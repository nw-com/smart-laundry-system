<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>店家後台 (主管)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 確保頁面在行動裝置上不會縮放並鎖定佈局 */
        html, body {
            overscroll-behavior: none;
            touch-action: none;
            height: 100%;
            overflow: hidden;
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }
        .main-layout {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            max-width: 1280px; /* 預設寬度 */
            margin: 0 auto;
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        .main-header {
            height: 80px;
            flex-shrink: 0;
        }
        .main-content {
            height: calc(100vh - 240px);
            flex-grow: 1;
            overflow-y: auto; /* 內容過多時可滾動 */
        }
        .main-footer {
            height: 160px;
            flex-shrink: 0;
        }
        .nav-button.active {
            @apply ring-2 ring-red-500 bg-red-50;
        }
        .content-panel {
            display: none;
        }
        .content-panel.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-800 flex items-center justify-center">

    <div class="main-layout shadow-2xl">
        <!-- Header -->
        <header class="main-header bg-white shadow-md p-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <i class="fas fa-tshirt text-4xl text-red-500"></i>
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">智慧洗衣 POS 系統</h1>
                    <p class="text-sm text-gray-500">Shop Manager Interface</p>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                 <span id="user-display" class="text-gray-700 font-semibold">載入中...</span>
                 <img id="user-avatar" src="https://placehold.co/48x48/e2e8f0/cbd5e0?text=頭像" alt="User Avatar" class="w-12 h-12 rounded-full object-cover ring-2 ring-red-200">
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content p-6">
            <!-- 儀錶板 -->
            <div id="dashboard-panel" class="content-panel active">
                <h2 class="text-3xl font-bold text-gray-800">儀錶板</h2>
                <!-- 儀錶板內容放這裡 -->
            </div>
            <!-- 衣物類 -->
            <div id="clothing-panel" class="content-panel">
                <h2 class="text-3xl font-bold text-gray-800">衣物類訂單</h2>
                <!-- 衣物類訂單內容放這裡 -->
            </div>
            <!-- 寢具類 -->
            <div id="bedding-panel" class="content-panel">
                <h2 class="text-3xl font-bold text-gray-800">寢具類訂單</h2>
            </div>
            <!-- 其他類 -->
            <div id="other-panel" class="content-panel">
                <h2 class="text-3xl font-bold text-gray-800">其他類訂單</h2>
            </div>
            <!-- 門市訂單 -->
            <div id="store-orders-panel" class="content-panel">
                <h2 class="text-3xl font-bold text-gray-800">門市訂單管理</h2>
            </div>
             <!-- 網路訂單 -->
            <div id="online-orders-panel" class="content-panel">
                <h2 class="text-3xl font-bold text-gray-800">網路訂單管理</h2>
            </div>
             <!-- 會員管理 -->
            <div id="members-panel" class="content-panel">
                <h2 class="text-3xl font-bold text-gray-800">會員管理</h2>
            </div>
             <!-- 設定 -->
            <div id="settings-panel" class="content-panel">
                <h2 class="text-3xl font-bold text-gray-800">設定</h2>
            </div>
        </main>

        <!-- Footer Navigation -->
        <footer class="main-footer bg-white border-t-2 border-gray-200 pt-5 px-5">
            <div id="nav-container" class="flex justify-center items-start space-x-5">
                <button class="nav-button active flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="dashboard-panel">
                    <i class="fas fa-tachometer-alt text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">儀錶板</span>
                </button>
                <button class="nav-button flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="clothing-panel">
                    <i class="fas fa-tshirt text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">衣物類</span>
                </button>
                <button class="nav-button flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="bedding-panel">
                    <i class="fas fa-bed text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">寢具類</span>
                </button>
                <button class="nav-button flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="other-panel">
                    <i class="fas fa-box-open text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">其他類</span>
                </button>
                <button class="nav-button flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="store-orders-panel">
                    <i class="fas fa-store text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">門市訂單</span>
                </button>
                <button class="nav-button flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="online-orders-panel">
                    <i class="fas fa-globe text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">網路訂單</span>
                </button>
                <button class="nav-button flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="members-panel">
                    <i class="fas fa-users text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">會員管理</span>
                </button>
                <button class="nav-button flex flex-col items-center justify-center w-[120px] h-[120px] bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow" data-target="settings-panel">
                    <i class="fas fa-cog text-4xl text-red-500 mb-2"></i>
                    <span class="font-semibold text-gray-700">設定</span>
                </button>
            </div>
        </footer>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 從 sessionStorage 讀取使用者資料並更新頁首
            const userName = sessionStorage.getItem('userName');
            const userAvatar = sessionStorage.getItem('userAvatarUrl');
            if (userName) {
                document.getElementById('user-display').textContent = `主管: ${userName}`;
            }
            if (userAvatar) {
                document.getElementById('user-avatar').src = userAvatar;
            }

            // 導覽按鈕的頁面切換邏輯
            const navContainer = document.getElementById('nav-container');
            const navButtons = document.querySelectorAll('.nav-button');
            const contentPanels = document.querySelectorAll('.content-panel');

            navContainer.addEventListener('click', (e) => {
                const button = e.target.closest('.nav-button');
                if (!button) return;

                const targetPanelId = button.dataset.target;
                
                // 更新按鈕的 active 狀態
                navButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // 切換顯示的內容面板
                contentPanels.forEach(panel => {
                    panel.classList.toggle('active', panel.id === targetPanelId);
                });
            });
        });
    </script>
</body>
</html>